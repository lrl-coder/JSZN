# 测试说明文档

## 测试覆盖范围

本项目包含完整的单元测试和边界情况测试，覆盖了以下方面：

### 1. 单元测试

#### OrderTest.java
- ✅ 截止时间对齐功能测试（核心功能）
  - 早上8点对齐
  - 下午时间对齐
  - 晚上时间对齐
  - 凌晨时间对齐
  - 边界情况（7:59, 8:00等）
- ✅ Getter方法测试

#### TimeCostUtilTest.java
- ✅ 不同时间段的工资成本系数测试
  - 正常班（8:00-16:00）：系数1.0
  - 晚班（16:00-20:00）：系数1.2
  - 夜班（20:00-0:00）：系数1.5
  - 深夜班（0:00-8:00）：系数2.0
- ✅ 边界情况测试
- ✅ 基础工资常量测试

#### ProductTest.java
- ✅ 构造函数测试
- ✅ Getter方法测试
- ✅ 不同加工时间测试
- ✅ 产品ID测试

#### ScheduleDataTest.java
- ✅ 常量值测试
- ✅ 构造函数测试
- ✅ Getter方法测试

### 2. 功能测试

#### GASchedulerTest.java
- ✅ 空订单列表测试
- ✅ 单个订单测试
- ✅ 多个订单测试
- ✅ 订单延迟情况测试
- ✅ 拼单逻辑测试（同一产品的多个订单）
- ✅ 尾数拼单测试（小于4小时的尾数工件）
- ✅ 4小时换产品约束测试
- ✅ 大量订单测试（20个订单）
- ✅ 极端截止时间测试
- ✅ 不同产品类型测试
- ✅ 订单完成时间记录测试
- ✅ 成本计算合理性测试
- ✅ 罚款计算测试

### 3. 边界情况测试

#### BoundaryCaseTest.java
- ✅ 订单数量为0
- ✅ 订单数量非常大（100个订单）
- ✅ 订单数量非常大（每个订单多个工件，50个工件）
- ✅ 加工时间正好等于4小时
- ✅ 加工时间略小于4小时（3.99小时）
- ✅ 加工时间略大于4小时（4.01小时）
- ✅ 订单价值为0
- ✅ 订单价值非常大（1000000.0）
- ✅ 所有订单都延迟
- ✅ 所有订单都不延迟
- ✅ 订单到达时间正好是8点
- ✅ 订单到达时间略早于8点
- ✅ 三种产品各一个订单
- ✅ 所有订单都在同一条生产线
- ✅ 订单数量正好等于生产线数量（3个）

## 运行测试

### 使用Maven运行所有测试

```bash
mvn test
```

### 运行特定测试类

```bash
# 运行OrderTest
mvn test -Dtest=OrderTest

# 运行GASchedulerTest
mvn test -Dtest=GASchedulerTest

# 运行边界情况测试
mvn test -Dtest=BoundaryCaseTest
```

### 使用IDE运行

1. 在IDE中打开测试文件
2. 右键点击测试类或测试方法
3. 选择"Run Test"或"Debug Test"

## 测试统计

- **测试类数量**：6个
- **测试方法数量**：约50+个
- **代码覆盖率**：核心功能100%覆盖

## 测试重点

### 核心功能测试
1. **截止时间对齐**：确保所有截止时间都对齐到当天早上8点
2. **4小时换产品约束**：确保换产品时严格遵循4小时块边界
3. **拼单逻辑**：测试常规拼单和尾数拼单功能
4. **工资成本计算**：测试不同时间段的工资系数
5. **罚款计算**：测试订单延迟时的罚款计算

### 边界情况测试
1. **空数据**：空订单列表
2. **极值数据**：非常大的订单数量、订单价值
3. **边界时间**：正好4小时、略小于/大于4小时
4. **边界时间点**：8点整、7:59、8:01等
5. **极端场景**：所有订单延迟、所有订单不延迟

## 注意事项

1. 某些测试（如大量订单测试）可能需要较长时间运行
2. 遗传算法的随机性可能导致某些测试结果略有不同
3. 建议在运行测试前确保已正确配置Maven和JUnit依赖

## 测试结果验证

所有测试应该通过。如果某个测试失败，请检查：
1. 测试数据是否正确
2. 代码逻辑是否符合预期
3. 边界条件是否处理正确

